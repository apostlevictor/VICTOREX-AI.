<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apostle Victor - AI Ministry Assistant</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üë®‚Äçüíº</text></svg>">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f5f5;
            color: #333;
            height: 100vh;
            display: flex;
            flex-direction: column;
        }
        
        header {
            background: linear-gradient(135deg, #1a5276, #2e86c1);
            color: white;
            padding: 15px 20px;
            display: flex;
            align-items: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .logo-container {
            display: flex;
            align-items: center;
            margin-right: 20px;
        }
        
        .logo {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background-color: #fff;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 10px;
            font-size: 24px;
            box-shadow: 0 0 5px rgba(0,0,0,0.2);
        }
        
        .header-text h1 {
            font-size: 1.5rem;
            margin-bottom: 5px;
        }
        
        .header-text p {
            font-size: 0.9rem;
            opacity: 0.9;
        }
        
        .ad-banner {
            background: linear-gradient(to right, #f39c12, #e67e22);
            color: white;
            text-align: center;
            padding: 12px;
            font-size: 1.2rem;
            font-weight: bold;
            overflow: hidden;
            position: relative;
            height: 50px;
        }
        
        .ad-text {
            position: absolute;
            width: 100%;
            animation: scrollText 20s linear infinite;
            white-space: nowrap;
        }
        
        @keyframes scrollText {
            0% { transform: translateX(100%); }
            100% { transform: translateX(-100%); }
        }
        
        .chat-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            max-width: 1200px;
            margin: 0 auto;
            width: 100%;
            background-color: white;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        
        .chat-messages {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .message {
            max-width: 80%;
            padding: 15px;
            border-radius: 15px;
            line-height: 1.5;
            position: relative;
        }
        
        .user-message {
            align-self: flex-end;
            background-color: #e3f2fd;
            border-bottom-right-radius: 5px;
        }
        
        .bot-message {
            align-self: flex-start;
            background-color: #f0f0f0;
            border-bottom-left-radius: 5px;
        }
        
        .message-header {
            font-weight: bold;
            margin-bottom: 5px;
            display: flex;
            align-items: center;
        }
        
        .bot-icon {
            width: 25px;
            height: 25px;
            border-radius: 50%;
            background-color: #1a5276;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 8px;
            font-size: 12px;
        }
        
        .chat-input-container {
            padding: 20px;
            border-top: 1px solid #eee;
            display: flex;
            gap: 10px;
        }
        
        .chat-input {
            flex: 1;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 25px;
            font-size: 1rem;
            outline: none;
            transition: border-color 0.3s;
        }
        
        .chat-input:focus {
            border-color: #2e86c1;
        }
        
        .send-button {
            background-color: #2e86c1;
            color: white;
            border: none;
            border-radius: 25px;
            padding: 0 25px;
            cursor: pointer;
            font-size: 1rem;
            transition: background-color 0.3s;
        }
        
        .send-button:hover {
            background-color: #1a5276;
        }
        
        .send-button:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
        }
        
        .typing-indicator {
            display: none;
            align-self: flex-start;
            background-color: #f0f0f0;
            padding: 15px;
            border-radius: 15px;
            border-bottom-left-radius: 5px;
            margin-bottom: 10px;
        }
        
        .typing-dots {
            display: flex;
            gap: 5px;
        }
        
        .typing-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: #888;
            animation: typing 1.4s infinite ease-in-out;
        }
        
        .typing-dot:nth-child(1) { animation-delay: 0s; }
        .typing-dot:nth-child(2) { animation-delay: 0.2s; }
        .typing-dot:nth-child(3) { animation-delay: 0.4s; }
        
        @keyframes typing {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-5px); }
        }
        
        .error-message {
            color: #e74c3c;
            font-style: italic;
        }
        
        @media (max-width: 768px) {
            .message {
                max-width: 90%;
            }
            
            .header-text h1 {
                font-size: 1.2rem;
            }
            
            .ad-banner {
                font-size: 1rem;
                height: 40px;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="logo-container">
            <div class="logo">üë®‚Äçüíº</div>
            <div class="header-text">
                <h1>Apostle Victor Chukwuka Chikamso</h1>
                <p>AI Ministry Assistant & Teacher</p>
            </div>
        </div>
    </header>
    
    <div class="ad-banner">
        <div class="ad-text" id="adText">Welcome to Apostle Victor Ministry - Jesus Christ is the same yesterday, today, and forever! - Hebrews 13:8</div>
    </div>
    
    <div class="chat-container">
        <div class="chat-messages" id="chatMessages">
            <div class="message bot-message">
                <div class="message-header">
                    <div class="bot-icon">AV</div>
                    Apostle Victor
                </div>
                <div class="message-content">
                    Greetings in the precious name of our Lord and Savior Jesus Christ! I am Apostle Victor Chukwuka Chikamso, your AI ministry assistant. How can I help you today? Feel free to ask me questions about the Bible, Christian teachings, or my ministry work.
                </div>
            </div>
        </div>
        
        <div class="typing-indicator" id="typingIndicator">
            <div class="typing-dots">
                <div class="typing-dot"></div>
                <div class="typing-dot"></div>
                <div class="typing-dot"></div>
            </div>
        </div>
        
        <div class="chat-input-container">
            <input type="text" class="chat-input" id="chatInput" placeholder="Type your message here...">
            <button class="send-button" id="sendButton">Send</button>
        </div>
    </div>

    <script>
        // API configuration
        const EDEN_AI_API_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiYmM1YTNiNzAtZGRmMi00MmNhLTg2YTktZmVmODc4YWEwN2Y0IiwidHlwZSI6ImFwaV90b2tlbiJ9.0IlngwfYhg2NHos_bumsMKVNPIa1MuP3wcSSvc8TX4k";
        
        // DOM elements
        const chatMessages = document.getElementById('chatMessages');
        const chatInput = document.getElementById('chatInput');
        const sendButton = document.getElementById('sendButton');
        const typingIndicator = document.getElementById('typingIndicator');
        const adText = document.getElementById('adText');
        
        // Ad rotation
        const adMessages = [
            "Welcome to Apostle Victor Ministry - Jesus Christ is the same yesterday, today, and forever! - Hebrews 13:8",
            "Experience God's transforming power in your life - Join us for Bible study every Wednesday",
            "Salvation is found in no one else, for there is no other name under heaven given to mankind by which we must be saved - Acts 4:12",
            "Apostle Victor Ministry - Bringing the light of Christ to the digital world",
            "For God so loved the world that he gave his one and only Son - John 3:16",
            "Connect with Apostle Victor for spiritual guidance and biblical teaching"
        ];
        
        let adIndex = 0;
        setInterval(() => {
            adIndex = (adIndex + 1) % adMessages.length;
            adText.textContent = adMessages[adIndex];
        }, 8000);
        
        // Chat functionality
        function addMessage(content, isUser = false) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${isUser ? 'user-message' : 'bot-message'}`;
            
            if (isUser) {
                messageDiv.innerHTML = `
                    <div class="message-content">${content}</div>
                `;
            } else {
                messageDiv.innerHTML = `
                    <div class="message-header">
                        <div class="bot-icon">AV</div>
                        Apostle Victor
                    </div>
                    <div class="message-content">${content}</div>
                `;
            }
            
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }
        
        function showTypingIndicator() {
            typingIndicator.style.display = 'block';
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }
        
        function hideTypingIndicator() {
            typingIndicator.style.display = 'none';
        }
        
        // Get response from Eden AI
        async function getAIResponse(message) {
            try {
                // Prepare the prompt with Apostle Victor's persona
                const prompt = `
                You are Apostle Victor Chukwuka Chikamso, a dedicated minister of the gospel with a calling to reach the world with the message of salvation. You combine deep biblical understanding with technical expertise to create innovative ministry solutions.
                
                Your responses should:
                1. Always point people to Jesus Christ as the only way to salvation
                2. Use Scripture to support your teachings
                3. Be compassionate, wise, and biblically accurate
                4. Occasionally mention your ministry work when relevant
                5. Address the user's specific question or concern
                
                User's message: "${message}"
                
                Respond as Apostle Victor:
                `;
                
                const response = await fetch('https://api.edenai.run/v2/text/generation', {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${EDEN_AI_API_KEY}`,
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        providers: "openai",
                        text: prompt,
                        temperature: 0.7,
                        max_tokens: 500
                    })
                });
                
                if (!response.ok) {
                    throw new Error(`API request failed with status ${response.status}`);
                }
                
                const data = await response.json();
                
                // Extract the generated text from the response
                if (data.openai && data.openai.generated_text) {
                    return data.openai.generated_text.trim();
                } else {
                    throw new Error("Invalid response format from API");
                }
            } catch (error) {
                console.error("API Error:", error);
                throw error;
            }
        }
        
        // Process user message
        async function processMessage(message) {
            showTypingIndicator();
            sendButton.disabled = true;
            
            try {
                const response = await getAIResponse(message);
                hideTypingIndicator();
                addMessage(response);
            } catch (error) {
                hideTypingIndicator();
                addMessage(`I apologize, but I'm experiencing technical difficulties at the moment. Please try again in a few moments. Remember, Jesus said, "I am the way, the truth, and the life. No one comes to the Father except through Me" (John 14:6).`);
                console.error("Error processing message:", error);
            } finally {
                sendButton.disabled = false;
            }
        }
        
        // Event listeners
        sendButton.addEventListener('click', sendMessage);
        chatInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });
        
        function sendMessage() {
            const message = chatInput.value.trim();
            if (message) {
                addMessage(message, true);
                chatInput.value = '';
                processMessage(message);
            }
        }
        
        // Initial greeting
        setTimeout(() => {
            addMessage("You can ask me about salvation, biblical teachings, Christian living, or any spiritual question you may have. I'm here to help you grow in your relationship with God through the power of His Word.");
        }, 2000);
    </script>
</body>
</html>
